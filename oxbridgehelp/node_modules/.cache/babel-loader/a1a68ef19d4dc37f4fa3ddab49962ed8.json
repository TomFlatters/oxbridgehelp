{"ast":null,"code":"import _classCallCheck from \"/home/tom/Documents/oxhelp/oxhelp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/home/tom/Documents/oxhelp/oxhelp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tom/Documents/oxhelp/oxhelp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _createClass from \"/home/tom/Documents/oxhelp/oxhelp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/tom/Documents/oxhelp/oxhelp/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tom/Documents/oxhelp/oxhelp/src/Hub.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Select from 'react-select';\nimport Home from './Home';\nimport { oXoptions, Camoptions } from './courselist.js';\nimport * as firebase from 'firebase';\nimport { Link, Route, BrowserRouter as Router } from 'react-router-dom';\nvar config = {\n  apiKey: \"AIzaSyAfnaiLlHra8674f4YJcSpjv46WbA8_oLE\",\n  authDomain: \"test-586a7.firebaseapp.com\",\n  databaseURL: \"https://test-586a7.firebaseio.com\",\n  projectId: \"test-586a7\",\n  storageBucket: \"\",\n  messagingSenderId: \"227370208626\"\n};\n\nif (firebase.apps.length < 1) {\n  firebase.initializeApp(config);\n}\n\nvar database = firebase.database();\n\nfunction writeData(reference, object) {\n  database.ref(reference).set(object);\n}\n\nfunction readData(reference) {\n  return database.ref(reference).once(\"value\").then(function (snapshot) {\n    return snapshot.val();\n  });\n}\n\nvar Hub =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Hub, _Component);\n\n  _createClass(Hub, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {}\n  }]);\n\n  function Hub() {\n    var _this;\n\n    _classCallCheck(this, Hub);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Hub).call(this));\n\n    _this.uniChoice = function (data) {\n      _this.setState({\n        chosen: data,\n        selected: true\n      });\n\n      console.log(_this.state);\n    };\n\n    _this.courseChoice = function (course) {\n      _this.setState({\n        course: course\n      });\n\n      document.getElementById(\"hubhomepage\").classList = \"hidden\";\n      document.getElementById(\"hubpages\").classList = \"\";\n    };\n\n    _this.state = {\n      chosen: \"\",\n      selected: false\n    };\n    return _this;\n  }\n\n  _createClass(Hub, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"hub\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"hubhomepage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"hubheader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"header2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"hubsearchcontainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"hubsearchposition\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, !this.state.selected ? React.createElement(ChooseUni, {\n        click: this.uniChoice,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }) : React.createElement(SearchCourses, {\n        uni: this.state.chosen,\n        click: this.courseChoice,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"hidden\",\n        id: \"hubpages\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Hub;\n}(Component);\n\nexport default Hub; // first component to load\n\nvar ChooseUni =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(ChooseUni, _Component2);\n\n  function ChooseUni() {\n    _classCallCheck(this, ChooseUni);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ChooseUni).apply(this, arguments));\n  }\n\n  _createClass(ChooseUni, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"chooseuni\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Where do you want to go?\", React.createElement(\"div\", {\n        className: \"unichoice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"unichoiceoption\",\n        onClick: function onClick() {\n          _this2.props.click(\"Oxford\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Oxford\"), React.createElement(\"div\", {\n        className: \"unichoiceoption\",\n        onClick: function onClick() {\n          _this2.props.click(\"Cambridge\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Cambridge\")));\n    }\n  }]);\n\n  return ChooseUni;\n}(Component); // second component to load\n\n\nvar SearchCourses =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(SearchCourses, _Component3);\n\n  function SearchCourses() {\n    var _this3;\n\n    _classCallCheck(this, SearchCourses);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(SearchCourses).call(this));\n\n    _this3.handleChange = function (selectedOption) {\n      _this3.setState({\n        selectedOption: selectedOption\n      });\n\n      console.log(\"Option selected:\", selectedOption);\n    };\n\n    _this3.chooseoptions = function (props) {\n      return _this3.state.courses;\n    };\n\n    _this3.state = {\n      selectedOption: \"\"\n    };\n    return _this3;\n  }\n\n  _createClass(SearchCourses, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var uni = this.props.uni;\n      readData(\"Uni/\" + uni + \"/Course\").then(function (courses) {\n        var course_list = [];\n\n        for (var course in courses) {\n          course_list.push(course);\n        }\n\n        console.log(\"Course list is:\");\n        console.log(course_list);\n        this.setState({\n          courses: course_list\n        });\n      });\n      var optionUrl = \"/the-hub/\" + this.props.uni + \"/\" + this.state.selectedOption;\n      console.log(this.state.selectedOption);\n      console.log(optionUrl);\n      console.log(this.state.courses);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Find courses and subjects at \", this.props.uni, \":\", React.createElement(Select, {\n        value: this.state.selectedOption,\n        onChange: this.handleChange,\n        options: this.chooseoptions(),\n        isSearchable: true,\n        className: \"searchbar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: optionUrl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"searchinfo\",\n        onClick: function onClick() {\n          _this4.props.click(_this4.state.selectedOption);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Go\")));\n    }\n  }]);\n\n  return SearchCourses;\n}(Component);","map":{"version":3,"sources":["/home/tom/Documents/oxhelp/oxhelp/src/Hub.js"],"names":["React","Component","Select","Home","oXoptions","Camoptions","firebase","Link","Route","BrowserRouter","Router","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","apps","length","initializeApp","database","writeData","reference","object","ref","set","readData","once","then","snapshot","val","Hub","uniChoice","data","setState","chosen","selected","console","log","state","courseChoice","course","document","getElementById","classList","ChooseUni","props","click","SearchCourses","handleChange","selectedOption","chooseoptions","courses","uni","course_list","push","optionUrl"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Select from 'react-select';\nimport Home from './Home'\nimport {oXoptions, Camoptions} from './courselist.js'\n\nimport * as firebase from 'firebase'\n\nimport { Link, Route, BrowserRouter as Router } from 'react-router-dom';\n\nvar config = {\n  apiKey: \"AIzaSyAfnaiLlHra8674f4YJcSpjv46WbA8_oLE\",\n  authDomain: \"test-586a7.firebaseapp.com\",\n  databaseURL: \"https://test-586a7.firebaseio.com\",\n  projectId: \"test-586a7\",\n  storageBucket: \"\",\n  messagingSenderId: \"227370208626\"\n};\nif(firebase.apps.length < 1) {\n  firebase.initializeApp(config);\n}\n\nconst database = firebase.database();\n\nfunction writeData(reference, object){\n  database.ref(reference).set(object);\n}\n\nfunction readData(reference){\n  return database.ref(reference).once(\"value\").then(function(snapshot){return snapshot.val();});\n}\n\nclass Hub extends Component {\n\ncomponentDidUpdate(){\n\n}\n\n\nconstructor(){\n  super()\n  this.state = {\n    chosen: \"\",\n    selected: false\n  }\n}\n\nuniChoice = (data) => {\n  this.setState({\n   chosen: data,\n   selected: true\n  })\n  console.log(this.state)\n }\n\ncourseChoice = (course) => {\n  this.setState({\n    course: course\n  })\n  document.getElementById(\"hubhomepage\").classList = \"hidden\";\n  document.getElementById(\"hubpages\").classList = \"\";\n}\n\nrender(){\n\n      return(\n        <div className=\"hub\">\n        \n        <div id=\"hubhomepage\">\n        <div className=\"hubheader\">\n          <div className=\"header1\"></div>\n          <div className=\"header2\"></div>\n        </div>\n\n        <div className=\"hubsearchcontainer\">\n        <div className=\"hubsearchposition\">\n        {!this.state.selected ? \n            (\n              <ChooseUni click={this.uniChoice}/>\n            ) \n             : \n            (\n              <SearchCourses uni={this.state.chosen} click={this.courseChoice}/>\n            )\n        } \n        </div>\n        </div>\n        </div>\n\n        <div className=\"hidden\" id=\"hubpages\">\n      \n        </div>\n\n        </div>\n      )\n    }\n  }\n\nexport default Hub\n\n\n// first component to load\nclass ChooseUni extends Component {\n  render(){\n    return(\n      <div className=\"chooseuni\">      \n        Where do you want to go?\n      <div className=\"unichoice\">\n        <div className=\"unichoiceoption\" onClick={() => {this.props.click(\"Oxford\")}}>Oxford</div>\n        <div className=\"unichoiceoption\" onClick={() => {this.props.click(\"Cambridge\")}}>Cambridge</div>\n      </div>\n      </div>\n    )\n  }\n}\n\n\n\n\n// second component to load\nclass SearchCourses extends Component {\n\n  constructor(){\n    super()\n    this.state={\n      selectedOption: \"\"\n    }\n    \n  }\n \n  handleChange = (selectedOption) => {\n    this.setState({ selectedOption });\n    console.log(`Option selected:`, selectedOption);\n  }\n\n  chooseoptions = (props) => {\n    return this.state.courses;\n  }\n\n  render(){\n    var uni = this.props.uni\n    readData(\"Uni/\"+uni+\"/Course\").then(function(courses){\n      var course_list = []\n      for(var course in courses) course_list.push(course)\n      \n      console.log(\"Course list is:\")\n      console.log(course_list);\n\n      this.setState({\n        courses: course_list\n      })\n    })\n\n    const optionUrl = \"/the-hub/\" + this.props.uni + \"/\" + this.state.selectedOption;\n    console.log(this.state.selectedOption)\n    console.log(optionUrl)\n    console.log(this.state.courses)\n    return(\n      <div>\n        Find courses and subjects at {this.props.uni}:\n          {/* <div className=\"hubsearchbar\"> */}\n          <Select\n        value={this.state.selectedOption}\n        onChange={this.handleChange}\n        options={this.chooseoptions()}\n        isSearchable\n        className=\"searchbar\"\n      />\n          {/* </div> */}\n          <Link to={optionUrl}>\n           <span className=\"searchinfo\" onClick={() => {this.props.click(this.state.selectedOption)}}>Go</span>\n          </Link>\n      </div>\n    )\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}